# NEP v1.5.2 - Groups Examples

**Version:** v1.5.2  
**Status:** Planning  
**Sprint Count:** 3

## Overview

Add comprehensive NetCDF-4 groups examples in C and Fortran demonstrating hierarchical group structures, nested groups, dimension visibility across groups, and the new NetCDF-4 integer types (NC_UBYTE, NC_USHORT, NC_UINT, NC_INT64, NC_UINT64).

## Goals

- Provide working examples of NetCDF-4 groups in both C and Fortran
- Demonstrate nested group hierarchies (3 levels deep)
- Show dimension visibility and inheritance from parent groups
- Illustrate all 5 new unsigned and 64-bit integer types
- Integrate examples into existing build systems (CMake and Autotools)
- Add CDL-based regression testing for output validation

## Sprint Breakdown

### Sprint 1: C Groups Example Implementation
- Create groups.c in examples/netcdf-4/
- Integrate into CMake and Autotools build systems
- Add as automated test (exit code validation only)
- Comprehensive Doxygen documentation

### Sprint 2: Fortran Groups Example Implementation
- Create f_groups.f90 in examples/f_netcdf-4/
- Match C example structure and functionality
- Integrate into CMake and Autotools build systems
- Add as automated test (exit code validation only)
- Comprehensive Doxygen documentation

### Sprint 3: CDL Output Validation
- Generate CDL reference files for both examples
- Implement automated CDL comparison in test suite
- Update test scripts for both build systems
- Document validation approach and CDL regeneration process
- CI integration (automatic via existing test infrastructure)

## Technical Scope

### Group Structure
```
Root Group (/)
├── SubGroup1
└── SubGroup2
    └── NestedGroup
```

### Dimensions
- Root level: `x=3`, `y=4`
- NestedGroup: `z=2`

### Variables (demonstrating all 5 new types)
- Root group: NC_UBYTE variable (2D: x, y)
- SubGroup1: NC_USHORT variable (2D: x, y)
- SubGroup2: NC_UINT variable (2D: x, y)
- NestedGroup: NC_INT64 variable (2D: x, y)
- NestedGroup: NC_UINT64 variable (3D: x, y, z)

### Key Learning Objectives
- Creating and navigating group hierarchies
- Dimension visibility and inheritance
- Using new integer types (unsigned and 64-bit)
- Querying group metadata
- Reading/writing data in nested groups

## Dependencies

- NetCDF-C library with NetCDF-4 support
- NetCDF-Fortran library (for Fortran examples)
- Existing examples infrastructure from v1.5.1
- ncdump utility (for CDL validation)

## Success Criteria

- [ ] groups.c compiles and runs successfully
- [ ] f_groups.f90 compiles and runs successfully (when Fortran enabled)
- [ ] Both examples create valid NetCDF-4 files with correct group structure
- [ ] Examples integrated into CMake build system
- [ ] Examples integrated into Autotools build system
- [ ] Examples run as automated tests in both build systems
- [ ] CDL validation passes for both examples
- [ ] Comprehensive Doxygen documentation for both examples
- [ ] CI pipeline passes with new examples

## Related Issues

- Sprint 1: C Groups Example Implementation
- Sprint 2: Fortran Groups Example Implementation
- Sprint 3: CDL Output Validation

## References

- v1.5.1: Example programs infrastructure
- NetCDF-4 Groups documentation: https://docs.unidata.ucar.edu/netcdf-c/current/groups.html
- NetCDF-4 new types: https://docs.unidata.ucar.edu/netcdf-c/current/data_type.html
