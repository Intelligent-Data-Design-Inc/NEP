# v1.5.1 Sprint 1: Add Examples Directory and Build Integration

**Labels:** enhancement, v1.5.1, sprint-1

## Overview
Integrate example programs from `/home/ed/writing_netcdf_programs` into NEP repository with full build system support and test integration.

## Tasks

### Source Integration
- [ ] Create `examples/` directory structure matching source layout
- [ ] Copy C examples: `classic/` (6 programs), `netcdf-4/` (5 programs)
- [ ] Copy Fortran examples: `f_classic/` (6 programs), `f_netcdf-4/` (5 programs)
- [ ] Copy empty directories: `parallelIO/`, `performance/` (placeholders for future work)

### CMake Build System Integration
- [ ] Add `option(BUILD_EXAMPLES "Build example programs" ON)` to root CMakeLists.txt
- [ ] Create `examples/CMakeLists.txt` as top-level build file
- [ ] Create subdirectory CMakeLists.txt for each example category (classic, netcdf-4, f_classic, f_netcdf-4)
- [ ] Link examples against installed NetCDF-C library (not internal NEP code)
- [ ] Configure RPATH for runtime library discovery
- [ ] Conditional Fortran builds: Only build f_classic/ and f_netcdf-4/ when `ENABLE_FORTRAN=ON` and netcdf-fortran is available
- [ ] Register examples as CTest tests when `BUILD_EXAMPLES=ON`

### Autotools Build System Integration
- [ ] Add `AC_ARG_ENABLE([examples])` to configure.ac with default enabled
- [ ] Create `examples/Makefile.am` and subdirectory Makefile.am files
- [ ] Conditional Fortran builds: Use `AM_CONDITIONAL([BUILD_FORTRAN])` to control f_classic/ and f_netcdf-4/
- [ ] Add examples to `make check` test suite when enabled
- [ ] Update AC_CONFIG_FILES to include examples/Makefile and subdirectories

### Test Integration
- [ ] Each example program runs during `make check` (Autotools) or `ctest` (CMake)
- [ ] Test success criteria: Program executes without errors (exit code 0)
- [ ] Programs create NetCDF files demonstrating various features
- [ ] No output validation in Sprint 1 (deferred to Sprint 2)

### Doxygen Documentation Updates
- [ ] Update `docs/Doxyfile.in` to include `examples/` directory in INPUT paths
- [ ] Create `examples/README.md` with overview of example categories
- [ ] Add examples section to Doxygen main page with category descriptions and links
- [ ] Document example programs with Doxygen comments explaining their purpose

## Build Configuration
- CMake: `-DBUILD_EXAMPLES=ON/OFF` (default: ON)
- Autotools: `--enable-examples/--disable-examples` (default: enabled)
- When disabled: Examples not built, not installed, not tested
- Fortran examples automatically skip if ENABLE_FORTRAN=OFF or netcdf-fortran unavailable

## Reference
- Source: `/home/ed/writing_netcdf_programs`
- Reference build files: `/home/ed/writing_netcdf_programs/CMakeLists.txt` and `configure.ac`

## Definition of Done
- [ ] All example programs copied to `examples/` directory
- [ ] CMake builds examples by default, can be disabled with `-DBUILD_EXAMPLES=OFF`
- [ ] Autotools builds examples by default, can be disabled with `--disable-examples`
- [ ] Examples run as tests in both build systems
- [ ] Fortran examples only build when Fortran support is enabled
- [ ] Doxygen documentation includes examples section
- [ ] CI passes with examples enabled and disabled
