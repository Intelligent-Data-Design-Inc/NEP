# v1.5.3 Sprint 1: C Quickstart Example

**Labels:** enhancement, v1.5.3, sprint-1

## Overview

Create a minimal C quickstart example demonstrating basic NetCDF classic operations. This program serves as the simplest introduction to NetCDF for new users.

**Detailed Implementation Plan**: `docs/plan/v1.5.3-sprint1-c-quickstart.md`

## Tasks

### C Example Program (quickstart.c)

#### File Creation
- [ ] Create `examples/classic/quickstart.c`
- [ ] Add comprehensive Doxygen documentation header
- [ ] Include learning objectives and prerequisites
- [ ] Explain this is a minimal NetCDF introduction

#### File Creation and Dimension Definition
- [ ] Create NetCDF file using `nc_create()` with NC_CLOBBER mode
- [ ] Define dimension "X" with size 2
- [ ] Define dimension "Y" with size 3
- [ ] Store dimension IDs for variable definition
- [ ] Implement error handling for all NetCDF calls

#### Variable Definition
- [ ] Define variable "data" of type NC_INT
- [ ] Set dimensions to X and Y (2D array: 2x3)
- [ ] Store variable ID for data writing

#### Attribute Definition
- [ ] Add global attribute "description" = "a quickstart example"
- [ ] Add variable attribute "units" = "m/s" to "data" variable
- [ ] Use `nc_put_att_text()` for character attributes

#### Data Generation and Writing
- [ ] End define mode using `nc_enddef()`
- [ ] Create 2x3 integer array with sequential values (1, 2, 3, 4, 5, 6)
- [ ] Write data using `nc_put_var_int()`
- [ ] Close file using `nc_close()`

#### File Reopening and Validation
- [ ] Reopen file in read-only mode using `nc_open()` with NC_NOWRITE
- [ ] Query number of dimensions, variables, and global attributes
- [ ] Validate dimension names and sizes
- [ ] Validate variable name, type, and dimensions
- [ ] Validate attribute values
- [ ] Read data back using `nc_get_var_int()`
- [ ] Verify data values match what was written
- [ ] Print validation results to stdout
- [ ] Return 0 on success, non-zero on failure

#### Error Handling
- [ ] Define ERR macro for consistent error handling
- [ ] Print NetCDF error messages using `nc_strerror()`
- [ ] Exit with appropriate error codes

### CMake Build Integration

#### examples/classic/CMakeLists.txt
- [ ] Add quickstart.c to list of example programs
- [ ] Create executable: `add_executable(quickstart quickstart.c)`
- [ ] Link against NetCDF-C: `target_link_libraries(quickstart PRIVATE NetCDF::NetCDF)`
- [ ] Register as test: `add_test(NAME quickstart COMMAND quickstart)`

### Autotools Build Integration

#### examples/classic/Makefile.am
- [ ] Add quickstart to TESTS variable
- [ ] Add quickstart to check_PROGRAMS
- [ ] Set `quickstart_SOURCES = quickstart.c`
- [ ] Set `quickstart_LDADD = $(NETCDF_LIBS)`

### Documentation

#### Code Documentation
- [ ] Add Doxygen comments for main function
- [ ] Add inline comments explaining each major step
- [ ] Keep comments concise and beginner-friendly

#### examples/README.md
- [ ] Add quickstart.c to classic examples list
- [ ] Brief description: "Minimal introduction to NetCDF"
- [ ] Note this is the simplest starting point for new users

### Testing

#### Manual Testing
- [ ] Build and run quickstart manually
- [ ] Verify quickstart.nc created
- [ ] Run `ncdump quickstart.nc` to inspect output
- [ ] Verify CDL output shows correct dimensions, variables, attributes, data

#### Build System Testing
- [ ] Test CMake build with BUILD_EXAMPLES=ON
- [ ] Test CMake build with BUILD_EXAMPLES=OFF (quickstart not built)
- [ ] Test Autotools build with --enable-examples
- [ ] Test Autotools build with --disable-examples (quickstart not built)

#### CI Validation
- [ ] Verify quickstart runs in CI for both build systems
- [ ] Check CI logs for successful test execution
- [ ] Verify no new warnings or errors

## Expected Output

### File Structure
- **File name**: `quickstart.nc`
- **Dimensions**: X=2, Y=3
- **Variable**: int data(X, Y)
- **Global attribute**: description = "a quickstart example"
- **Variable attribute**: data:units = "m/s"
- **Data values**: 1, 2, 3, 4, 5, 6

### Expected ncdump Output
```
netcdf quickstart {
dimensions:
	X = 2 ;
	Y = 3 ;
variables:
	int data(X, Y) ;
		data:units = "m/s" ;

// global attributes:
		:description = "a quickstart example" ;
data:

 data =
  1, 2, 3,
  4, 5, 6 ;
}
```

## Definition of Done

- [ ] quickstart.c created in examples/classic/
- [ ] Program creates NetCDF file with 2 dimensions (X=2, Y=3)
- [ ] Program defines 1 variable (int data(X,Y))
- [ ] Program adds 1 global attribute (description)
- [ ] Program adds 1 variable attribute (units)
- [ ] Program writes data array (2x3 integers)
- [ ] Program reopens file and validates all contents
- [ ] Program returns 0 on success, non-zero on failure
- [ ] Comprehensive Doxygen documentation included
- [ ] CMake build integration complete
- [ ] Autotools build integration complete
- [ ] Tests pass in both build systems
- [ ] CI passes with new example
- [ ] examples/README.md updated
- [ ] Manual ncdump verification confirms correct output

## References

- Detailed plan: `docs/plan/v1.5.3-sprint1-c-quickstart.md`
- Existing examples: `examples/classic/simple_2D.c`, `examples/classic/simple_xy.c`
- NetCDF-C Classic API: https://docs.unidata.ucar.edu/netcdf-c/current/classic_api.html
- v1.5.1 Sprint 1 for examples infrastructure patterns
