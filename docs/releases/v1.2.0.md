# NEP v1.2.0 Release Notes

**Release Date**: TBD  
**Focus**: Documentation and GitHub Pages Improvements

---

## Overview

NEP v1.2.0 focuses on tightening the documentation story around the existing compression features and build system. This release stabilizes the GitHub Pages deployment workflow, ensures all published documentation reflects the current version from `version.txt`, removes obsolete HDF5 VOL terminology, and clarifies how to configure LZ4, BZIP2, and Fortran support across the build systems.

---

## Highlights

- **Version-Driven Documentation**: All generated Doxygen docs now derive their version from `version.txt`, keeping docs and releases in sync.
- **GitHub Pages Workflow Hardening**: The `deploy_documentation` workflow reliably deploys documentation to GitHub Pages on releases.
- **Modernized Branding**: Top-level documentation no longer describes NEP as an HDF5 VOL-based extension pack; it reflects the current NetCDF-centric architecture.
- **Configuration Clarity**: New build options page documents how to enable/disable LZ4, BZIP2, and Fortran support in both CMake and Autotools.
- **API Docs Entry Point**: Main documentation page clearly points to the generated C/Fortran API documentation, with room for versioned and `latest` URLs.

---

## Features

### Documentation Improvements

- **Main Page Updates** (`docs/mainpage.md`):
  - Removed hard-coded version from the title; users are directed to the documentation header for the exact build version.
  - Adjusted overview text to describe NEP as a NetCDF-4 compression extension (LZ4 and BZIP2), not an HDF5/VOL-centric product.
  - Updated installation requirements to list NetCDF-C, HDF5 and its dependencies, LZ4, and BZIP2 without implying VOL connectors.
  - Replaced the old "Future Releases" section with a streamlined focus on current capabilities; forward-looking work remains in `docs/roadmap.md`.

- **Features and Options Section**:
  - Added a concise summary of:
    - LZ4 and BZIP2 as the supported compression algorithms.
    - Build-time enable/disable of LZ4 and BZIP2.
    - Optional Fortran wrappers for compression functions with an explicit note that `netcdf-fortran` is required when Fortran is enabled.

- **API Documentation Section**:
  - Clarified that API documentation is generated directly from C and Fortran sources.
  - Described the intended structure of versioned documentation URLs (e.g., `/NEP/v1.2.0/api/`) and a `latest` alias for the newest release.

### Build and Options Documentation

- **New Build Options Page** (`docs/build-options.md`):
  - Documents primary CMake options:
    - `BUILD_LZ4=ON/OFF` and `BUILD_BZIP2=ON/OFF` for compression filters.
    - `ENABLE_FORTRAN=ON/OFF` for Fortran wrappers and tests.
    - `BUILD_DOCUMENTATION=ON/OFF` for Doxygen-generated docs.
  - Mirrors intent for Autotools options (e.g., `--enable-lz4`, `--enable-bzip2`, `--enable-fortran`, `--enable-docs`) where applicable.
  - Explains the dependency implications of enabling Fortran support (Fortran compiler and `netcdf-fortran`).

---

## API Changes

- No C or Fortran API symbols were added or removed in v1.2.0.
- Doxygen configuration (`docs/Doxyfile.in`) now:
  - Uses `@PACKAGE_VERSION@` (driven from `version.txt` via CMake) as `PROJECT_NUMBER`.
  - Updates `PROJECT_BRIEF` to a neutral NetCDF extension description without HDF5 VOL terminology.
  - Includes `docs/mainpage.md` and `docs/build-options.md` as documentation inputs.

All behavioral and binary interfaces introduced in v1.0.0 (compression) and v1.1.0 (Fortran wrappers) remain unchanged.

---

## Build System

### CMake

- **Version Source Alignment** (`CMakeLists.txt`):
  - Reads the release version from `version.txt` and assigns it to `NEP_VERSION_FROM_FILE`.
  - Uses `NEP_VERSION_FROM_FILE` for package metadata variables:
    - `PACKAGE_STRING`, `PACKAGE_VERSION`, and `VERSION`.
  - Ensures Doxygen’s `PROJECT_NUMBER` reflects the same version via `@PACKAGE_VERSION@`.

- **Documentation Build**:
  - Existing `docs` target continues to drive Doxygen generation using `docs/Doxyfile.in` configured with the new description and input list.

### Autotools

- No Autotools macros or Makefiles were changed in this release.
- Existing options for compression and Fortran remain valid; v1.2.0 simply documents them more clearly.

---

## Testing

- **CMake Tests**:
  - `ctest --output-on-failure` in the CMake build directory passes with no failures after documentation and CMake version wiring changes.

- **Autotools Tests**:
  - No Autotools build-tree changes were introduced in v1.2.0; tests remain as in v1.1.0.

No new test suites were added; this release is intentionally focused on documentation and configuration clarity rather than new runtime behavior.

---

## Documentation

- **Main Documentation**:
  - `docs/mainpage.md` refreshed to:
    - Remove obsolete HDF5 VOL references and the future-releases list.
    - Emphasize current compression capabilities and configuration.
  - `docs/Doxyfile.in` updated to describe NEP as a "NetCDF Extension Pack" and to include `build-options.md` in the input set.

- **Build Options**:
  - `docs/build-options.md` provides a single authoritative location for build flags and their dependency implications.

- **Roadmap Alignment**:
  - `docs/roadmap.md` v1.2.0 section records the decisions made in this release about:
    - Version sourcing from `version.txt`.
    - API docs entry point and URL structure.
    - Removal of VOL references and public future-release promises.

---

## Dependencies Added

- No new external runtime dependencies were introduced in v1.2.0.
- Documentation continues to rely on Doxygen and Graphviz for API docs generation, and on GitHub Pages for hosting.

---

## Known Limitations

- API documentation hosting layout (exact versioned URL paths and `latest` alias) may still evolve; the release documents the intended structure.
- Autotools-specific flags for some documented options may differ slightly depending on the current state of `configure.ac`; the build-options page calls this out.

---

## Breaking Changes

- None. NEP v1.2.0 introduces no breaking changes to C or Fortran APIs, build flags, or runtime behavior.

---

## Release Summary

- **Released**: TBD  
- **Scope**: v1.2.0 Documentation Improvements sprint (documentation fixes and deployment workflow hardening)  
- **Team Notes**: This release aligns NEP’s documentation and deployment tooling with the existing compression and Fortran capabilities, reducing drift between code, releases, and published docs and setting up a stable foundation for future feature work in v1.3.0 and v2.0.0.
