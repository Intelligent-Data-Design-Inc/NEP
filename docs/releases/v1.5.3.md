# NEP v1.5.3 - Quickstart Examples

> Adds minimal quickstart examples in C and Fortran demonstrating basic NetCDF classic operations with automated CDL validation for new users.

---

## Highlights

- **Minimal Quickstart Examples**: Simple C and Fortran programs demonstrating basic NetCDF file creation, dimensions, variables, and attributes
- **Beginner-Friendly**: Designed as the simplest introduction to NetCDF for new users with comprehensive documentation
- **Automated CDL Validation**: Reference CDL files with automated output comparison using ncdump in both build systems
- **C/Fortran Equivalence**: Parallel implementations produce semantically equivalent output with language-appropriate array ordering
- **Comprehensive Documentation**: Doxygen comments with learning objectives and step-by-step explanations

---

## Features

### C Quickstart Example (`examples/classic/quickstart.c`)

**quickstart.c** (#116) - Minimal introduction to NetCDF in C
- Creates NetCDF file with 2 dimensions (X=2, Y=3)
- Defines 1 variable: `int data(X, Y)` with sequential values 1-6
- Adds 1 global attribute: `description = "a quickstart example"`
- Adds 1 variable attribute: `data:units = "m/s"`
- Reopens file and validates all contents with comprehensive checks
- 5-phase validation: file creation, dimension verification, variable verification, attribute verification, data verification
- Comprehensive Doxygen documentation with learning objectives
- Integrated into CMake and Autotools build systems
- Runs as automated test with exit code validation

### Fortran Quickstart Example (`examples/f_classic/f_quickstart.f90`)

**f_quickstart.f90** (#117) - Fortran equivalent of C quickstart example
- Parallel structure to C example using NetCDF-Fortran API
- Uses `nf90_create()`, `nf90_def_dim()`, `nf90_def_var()`, `nf90_put_att()`
- Fortran column-major array ordering (dimensions Y, X instead of X, Y)
- 1-based array indexing following Fortran conventions
- Identical validation approach with comprehensive checks
- Well-documented Fortran code with inline comments
- Conditional compilation when Fortran enabled
- Fixed attribute string null termination using `nf90_inq_attlen()`

### CDL Output Validation (#118)

**Automated Validation** - CDL-based regression testing for quickstart examples
- `examples/expected_output/quickstart_expected.cdl` - C example reference output
- `examples/expected_output/f_quickstart_expected.cdl` - Fortran example reference output
- CMake validation tests: `quickstart_validate`, `f_quickstart_validate`
- Autotools test scripts: `test_quickstart.sh`, `test_f_quickstart.sh`
- Validation uses shared `validate_cdl.sh` infrastructure
- Tests depend on example execution completion
- CI integration via existing test infrastructure
- Clear error messages showing diff output on validation failures

---

## Technical Implementation

### File Structure
```
quickstart.nc (or f_quickstart.nc)
├── Dimensions: X=2, Y=3
├── Variable: int data(X, Y)  [C version]
│            or int data(Y, X)  [Fortran version]
├── Global attribute: description = "a quickstart example"
├── Variable attribute: data:units = "m/s"
└── Data values: 1, 2, 3, 4, 5, 6
```

### Array Ordering Differences
- **C**: Row-major ordering → `data(X, Y)` with dimensions X=2, Y=3
- **Fortran**: Column-major ordering → `data(Y, X)` with dimensions Y=3, X=2
- Both produce semantically equivalent output with correct data values

### Validation Approach
- Shared `validate_cdl.sh` script consolidates CDL comparison logic
- Uses `ncdump` to generate CDL from NetCDF files
- Compares against reference CDL using `diff`
- Reports clear error messages with actual differences
- Cleans up temporary files on success

---

## Build Configuration

### CMake
```bash
# Examples enabled by default
cmake -B build
cmake --build build
ctest --test-dir build

# Run quickstart validation tests
ctest --test-dir build -R quickstart_validate
ctest --test-dir build -R f_quickstart_validate
```

### Autotools
```bash
# Examples enabled by default
./configure --enable-fortran
make
make check

# Run specific quickstart tests
cd examples/classic && make check TESTS="quickstart test_quickstart.sh"
cd examples/f_classic && make check TESTS="f_quickstart test_f_quickstart.sh"
```

---

## Testing

### Test Coverage
- **C Example**: `quickstart` test + `test_quickstart.sh` validation script
- **Fortran Example**: `f_quickstart` test + `test_f_quickstart.sh` validation script
- **CDL Validation**: Automated comparison against reference CDL files
- **5-Phase Validation**: Each example validates file creation, dimensions, variables, attributes, and data
- **6 Data Values**: Sequential values 1-6 written and verified in each example

### CI Integration
- Examples run in GitHub Actions CI pipeline
- CDL validation tests execute automatically
- Failures report clear diff output showing mismatches
- Both CMake and Autotools builds tested

---

## Documentation

- **Doxygen Comments**: Comprehensive inline documentation in both examples
- **Learning Objectives**: Clear explanation of basic NetCDF concepts
- **API References**: Links to NetCDF-C and NetCDF-Fortran documentation
- **examples/README.md**: Updated with quickstart examples in learning progression
- **examples/expected_output/README.md**: Documents CDL validation baselines

---

## Dependencies Added

None. Examples use existing NetCDF-C and NetCDF-Fortran libraries. No new runtime dependencies introduced.

---

## Known Limitations

- **Fortran Optional**: Fortran example requires NetCDF-Fortran library installation
- **Array Ordering**: C and Fortran examples produce different dimension ordering due to language conventions (expected behavior)
- **CDL Differences**: Reference CDL files differ between C and Fortran due to array ordering

---

## Breaking Changes

None. NEP v1.5.3 introduces no breaking changes to existing APIs or build systems. Quickstart examples are optional features that build alongside existing examples.

---

## Release Summary

- **Released**: January 29, 2026
- **Scope**: v1.5.3 Quickstart Examples (Sprint 1: C example #116, Sprint 2: Fortran example #117, Sprint 3: CDL validation #118)
- **Issues Closed**: 3 (#116, #117, #118)
- **Pull Requests Merged**: 1 (#119)
- **Team Notes**: This release adds the simplest possible introduction to NetCDF for new users. The quickstart examples demonstrate basic file creation, dimensions, variables, attributes, and data operations in both C and Fortran. These minimal examples serve as the entry point for users learning NetCDF, with comprehensive validation ensuring correctness. The automated CDL validation provides confidence that example output matches expected structure and data values. Total example count increased from 24 to 26 programs.
